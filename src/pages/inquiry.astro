---
// コンポーネント
import PageLayout from "../layouts/PageLayout.astro";
import PageBottomWave from "../components/common/PageBottomWave.astro";
import Breadcrumb from "../components/common/Breadcrumb.astro";
import PageTitle from "../components/common/PageTitle.astro";
---

<PageLayout
  title="お問い合わせ ｜コッコ祭り 2025｜KOKKO Festival"
  description="コッコ祭りに関するお問い合わせはこちら。イベント内容、参加・出展、アクセスなどご質問・ご相談はお気軽にどうぞ。"
>
  <!-- inquiry content -->
  <section class="page-wrapper inquiry">
    <div class="inquiry__container">
      <PageTitle accent="お" title="問い合わせ" subtitle="CONTACT" />
      <div class="inquiry__form-wrapper">
        <form
          class="inquiry__form"
          action="https://formspree.io/f/mgvlpodg"
          method="POST"
        >
          <fieldset class="inquiry__fieldset">
            <legend class="inquiry__legend">お問い合わせフォーム</legend>
            <div class="inquiry__field">
              <label class="inquiry__label" for="name">
                <div class="inquiry__label-wrapper">
                  <div class="inquiry__label-text">お名前</div>
                  <div class="inquiry__label-required">
                    <span class="inquiry__required-badge">必須</span>
                  </div>
                </div>
                <input
                  class="inquiry__input"
                  type="text"
                  name="name"
                  id="name"
                  required
                  aria-required="true"
                  placeholder="山田太郎"
                />
              </label>
            </div>
            <div class="inquiry__field">
              <label class="inquiry__label" for="email">
                <div class="inquiry__label-wrapper">
                  <div class="inquiry__label-text">メールアドレス</div>
                  <div class="inquiry__label-required">
                    <span class="inquiry__required-badge">必須</span>
                  </div>
                </div>
                <input
                  class="inquiry__input"
                  type="email"
                  name="email"
                  id="email"
                  required
                  aria-required="true"
                  placeholder="example@email.com"
                />
              </label>
            </div>
            <div class="inquiry__field">
              <label class="inquiry__label" for="inquiryType">
                <div class="inquiry__label-wrapper">
                  <div class="inquiry__label-text">お問い合わせ種別</div>
                  <div class="inquiry__label-optional"></div>
                </div>
                <select
                  class="inquiry__select"
                  name="inquiryType"
                  id="inquiryType"
                >
                  <option value="">選択してください</option>
                  <option value="general">一般的なお問い合わせ</option>
                  <option value="event">イベントについて</option>
                  <option value="participation">参加・出展について</option>
                  <option value="other">その他</option>
                </select>
              </label>
            </div>
            <div class="inquiry__field">
              <label class="inquiry__label" for="message">
                <div class="inquiry__label-wrapper">
                  <div class="inquiry__label-text">お問い合わせ内容</div>
                  <div class="inquiry__label-required">
                    <span class="inquiry__required-badge">必須</span>
                  </div>
                </div>
                <textarea
                  class="inquiry__textarea"
                  name="message"
                  id="message"
                  required
                  aria-required="true"
                  placeholder="お問い合わせ内容を入力してください"
                  rows="6"></textarea>
              </label>
            </div>
          </fieldset>
          <div class="inquiry__privacy-section">
            <div class="inquiry__privacy-content">
              <div class="inquiry__privacy-title">個人情報の取り扱い</div>
              <div class="inquiry__privacy-text" id="privacy-description">
                ここに説明文が入ります。ここに説明文が入ります。ここに説明文が入ります。ここに説明文が入ります。ここに説明文が入ります。ここに説明文が入ります。ここに説明文が入ります。
              </div>
            </div>
          </div>
          <div class="inquiry__consent-section">
            <div class="inquiry__consent-field">
              <input
                class="inquiry__checkbox"
                type="checkbox"
                name="privacyPolicy"
                id="privacyPolicy"
                required
                aria-required="true"
                aria-describedby="privacy-description"
              />
              <label class="inquiry__checkbox-label" for="privacyPolicy"
                >個人情報の取り扱いに同意する</label
              >
            </div>
          </div>

          <button class="inquiry__submit-button" type="submit">
            <div class="inquiry__submit-content">
              <div class="inquiry__submit-text">送　信</div>
              <svg
                class="inquiry__submit-icon"
                xmlns="http://www.w3.org/2000/svg"
                width="47"
                height="47"
                viewBox="0 0 47 47"
                fill="none"
                aria-hidden="true"
              >
                <circle cx="23.3815" cy="23.4831" r="22.6667" fill="white"
                ></circle>
                <path
                  d="M19.4418 15.5937L18.6069 16.8111L17.8517 18.0494L19.109 18.8677L20.3943 19.7132L21.6628 20.5792L22.9481 21.4247L24.2701 22.2111L25.5847 23.1069L24.1981 23.8941L22.9482 24.8118L21.6476 25.6392L20.3494 26.4807L19.0665 27.3429L17.7118 28.1624L18.6083 29.3838L19.3621 30.6948L20.6237 29.7605L21.9154 28.9318L23.2629 28.1895L24.4808 27.2396L25.8131 26.4766L27.0984 25.6286L28.3671 24.7689L29.6792 23.957L30.9569 23.0986L29.6387 22.3174L28.4211 21.3898L27.0846 20.6381L25.8722 19.7066L24.524 18.9716L23.2763 18.0902L22.0183 17.2165L20.7171 16.4147L19.4418 15.5937Z"
                  fill="#816259"></path>
              </svg>
            </div>
          </button>
        </form>
      </div>
    </div>
    <Breadcrumb currentPageTitle="お問い合わせ" />
    <PageBottomWave />
  </section>
</PageLayout>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const checkbox = document.getElementById(
      "privacyPolicy",
    ) as HTMLInputElement;
    const submitButton = document.querySelector(
      ".inquiry__submit-button",
    ) as HTMLButtonElement;

    if (checkbox && submitButton) {
      // 初期状態：チェックボックスがチェックされていない場合はボタンを無効化
      updateSubmitButton();

      // チェックボックスの状態が変わった時の処理
      checkbox.addEventListener("change", updateSubmitButton);

      function updateSubmitButton() {
        if (checkbox.checked) {
          submitButton.disabled = false;
          submitButton.classList.add("inquiry__submit-button--enabled");
        } else {
          submitButton.disabled = true;
          submitButton.classList.remove("inquiry__submit-button--enabled");
        }
      }
    }
  });
</script>

<style lang="scss">
  @import "../styles/variables";
  @import "../styles/functions";
  @import "../styles/mixins";
  .inquiry {
    padding-top: spx(296);
    position: relative;
    min-height: 90vh;
    padding-bottom: spx(99);
    @include tablet-up {
      padding-top: ppx(253 * 1.2);
      padding-bottom: ppx(228 * 1.2);
    }
    @include desktop-up {
      padding-top: ppx(253);
      padding-bottom: ppx(228);
    }

    &__container {
      padding-bottom: spx(100);
      @include tablet-up {
        padding-bottom: ppx(130 * 1.2);
      }
      @include desktop-up {
        padding-bottom: ppx(130);
      }
    }

    &__description {
      color: var(--base_5, #102a4d);
      text-align: center;
      font-size: spx(26);
      font-weight: 700;
      line-height: 180%;
      margin-top: spx(18);
      @include tablet-up {
        font-size: ppx(27 * 1.2);
        margin-top: ppx(30 * 1.2);
      }
      @include desktop-up {
        font-size: ppx(27);
        margin-top: ppx(30);
      }
    }

    &__form-wrapper {
      margin-top: spx(70);
      @include tablet-up {
        margin-top: ppx(132 * 1.2);
      }
      @include desktop-up {
        margin-top: ppx(132);
      }
    }

    &__form {
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__fieldset {
      display: flex;
      flex-flow: column;
      gap: spx(15);
      align-items: center;
      @include tablet-up {
        gap: ppx(40 * 1.2);
      }
      @include desktop-up {
        gap: ppx(40);
      }
    }

    &__legend {
      visibility: hidden;
      height: 0;
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__field {
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__label {
      display: flex;
      flex-flow: column;
      gap: spx(15);
      @include tablet-up {
        flex-flow: row;
        gap: spx(20) * 1.2;
      }
      @include desktop-up {
        gap: ppx(20);
      }
      &-wrapper {
        display: flex;
        align-items: center;
        gap: spx(20);
        @include tablet-up {
          justify-content: space-between;
          gap: ppx(20 * 1.2);
          width: ppx(368 * 1.2);
        }
        @include desktop-up {
          gap: ppx(20);
          width: ppx(368);
        }
      }

      &-text {
        color: var(--base_5, #102a4d);
        font-size: spx(30);
        font-weight: 700;
        line-height: 180%;
        @include tablet-up {
          font-size: ppx(30 * 1.2);
        }
        @include desktop-up {
          font-size: ppx(30);
        }
      }

      &-required {
        display: flex;
        padding: spx(3) 0 spx(5);
        justify-content: center;
        align-items: center;
        border-radius: spx(14);
        width: spx(68);
        height: spx(51);
        background: var(--logo_color_3, #c99e2d);
        @include tablet-up {
          padding: ppx(3) * 1.2 0 ppx(5) * 1.2;
          border-radius: ppx(14) * 1.2;
          width: ppx(68) * 1.2;
          height: ppx(51) * 1.2;
        }
        @include desktop-up {
          padding: ppx(3) 0 ppx(5);
          border-radius: ppx(14);
          width: ppx(68);
          height: ppx(51);
        }
      }

      &-optional {
        @include tablet-up {
        }
        @include desktop-up {
        }
      }
    }

    &__required-badge {
      color: var(--base_1, #fffcf2);
      font-size: spx(24);
      font-weight: 700;
      line-height: 180%;
      @include tablet-up {
        font-size: ppx(24 * 1.2);
      }
      @include desktop-up {
        font-size: ppx(24);
      }
    }

    &__input {
      display: block;
      width: spx(620);
      padding: spx(20) spx(30);
      border-radius: spx(10);
      border: 2px solid var(--logo_color_3, #c99e2d);
      background: var(--white, #fff);
      @include tablet-up {
        width: ppx(950 * 1.2);
        padding: ppx(20 * 1.2) ppx(30 * 1.2);
        border-radius: ppx(10 * 1.2);
      }
      @include desktop-up {
        width: ppx(950);
        padding: ppx(20) ppx(30);
        border-radius: ppx(10);
      }

      // プレイスホルダーのスタイル
      &::placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3; // 透明度を薄くする（0.4 = 40%の不透明度）
      }

      // ブラウザ対応
      &::-webkit-input-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }

      &::-moz-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }

      &::-ms-input-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }
    }

    &__select {
      display: block;
      width: spx(620);
      padding: spx(20) spx(30);
      border-radius: spx(10);
      border: 2px solid var(--logo_color_3, #c99e2d);
      background: var(--white, #fff);
      @include tablet-up {
        width: ppx(950 * 1.2);
        padding: ppx(20 * 1.2) ppx(30 * 1.2);
        border-radius: ppx(10 * 1.2);
      }
      @include desktop-up {
        width: ppx(950);
        padding: ppx(20) ppx(30);
        border-radius: ppx(10);
      }
    }

    &__textarea {
      display: block;
      width: spx(620);
      padding: spx(20) spx(30);
      border-radius: spx(10);
      border: 2px solid var(--logo_color_3, #c99e2d);
      background: var(--white, #fff);
      @include tablet-up {
        width: ppx(950 * 1.2);
        padding: ppx(20 * 1.2) ppx(30 * 1.2);
        border-radius: ppx(10 * 1.2);
      }
      @include desktop-up {
        width: ppx(950);
        padding: ppx(20) ppx(30);
        border-radius: ppx(10);
      }

      // プレイスホルダーのスタイル
      &::placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3; // 透明度を薄くする（0.4 = 40%の不透明度）
      }

      // ブラウザ対応
      &::-webkit-input-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }

      &::-moz-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }

      &::-ms-input-placeholder {
        color: var(--base_5, #102a4d);
        opacity: 0.3;
      }
    }

    &__privacy-section {
      margin-top: spx(65);
      display: flex;
      justify-content: center;
      @include tablet-up {
        margin-top: ppx(80 * 1.2);
      }
      @include desktop-up {
        margin-top: ppx(80);
      }
    }

    &__privacy-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.3em;
      padding: spx(30) spx(50);
      width: spx(620);
      align-items: flex-start;
      border-radius: spx(10);
      border: 2px solid var(--logo_color_3, #c99e2d);
      background: var(--white, #fff);
      @include tablet-up {
        padding: ppx(30 * 1.2) ppx(50 * 1.2);
        gap: ppx(10 * 1.2);
        border-radius: ppx(10 * 1.2);
        width: ppx(1338) * 1.2;
      }
      @include desktop-up {
        padding: ppx(30) ppx(50);
        gap: ppx(10);
        border-radius: ppx(10);
        width: ppx(1338);
      }
    }

    &__privacy-title {
      color: var(--logo_color_3, #c99e2d);
      font-size: spx(33);
      font-weight: 700;
      line-height: 180%;
      @include tablet-up {
        font-size: ppx(33 * 1.2);
      }
      @include desktop-up {
        font-size: ppx(33);
      }
    }

    &__privacy-text {
      color: var(--base_5, #102a4d);
      font-size: spx(28);
      font-weight: 500;
      line-height: 180%;
      @include tablet-up {
        font-size: ppx(28 * 1.2);
      }
      @include desktop-up {
        font-size: ppx(28);
      }
    }

    &__consent-section {
      margin-top: spx(67);
      @include tablet-up {
        margin-top: ppx(80 * 1.2);
      }
      @include desktop-up {
        margin-top: ppx(80);
      }
    }

    &__consent-field {
      display: grid;
      grid-template:
        "text box"
        / max-content max-content;
      gap: spx(20);
      align-items: center;
      justify-content: center;
      @include tablet-up {
        gap: ppx(20 * 1.2);
      }
      @include desktop-up {
        gap: ppx(20);
      }
    }

    &__checkbox {
      grid-area: box;
      appearance: none;
      width: spx(49);
      height: spx(49);
      border-radius: spx(10);
      border: 2px solid var(--logo_color_3, #c99e2d);
      background: var(--white, #fff);
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;

      @include tablet-up {
        width: ppx(49 * 1.2);
        height: ppx(49 * 1.2);
        border-radius: ppx(10 * 1.2);
      }
      @include desktop-up {
        width: ppx(49);
        height: ppx(49);
        border-radius: ppx(10);
      }

      &:checked {
        background: var(--logo_color_3, #c99e2d);
        border-color: var(--logo_color_3, #c99e2d);
      }

      &:checked::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: spx(20);
        height: spx(15);
        border: 3px solid white;
        border-top: none;
        border-right: none;
        transform: translate(-50%, -60%) rotate(-45deg);

        @include tablet-up {
          width: ppx(24 * 1.2);
          height: ppx(18 * 1.2);
        }
        @include desktop-up {
          width: ppx(24);
          height: ppx(18);
        }
      }

      &:hover {
        border-color: var(--logo_color_2, #816259);
      }

      &:focus {
        outline: 2px solid var(--logo_color_3, #c99e2d);
        outline-offset: 2px;
      }
    }

    &__checkbox-label {
      grid-area: text;
      color: var(--base_5, #102a4d);
      font-family: "Zen Kaku Gothic Antique";
      font-size: spx(28);
      font-style: normal;
      font-weight: 500;
      line-height: 180%;
      cursor: pointer;
      user-select: none;

      @include tablet-up {
        font-size: ppx(30 * 1.2);
      }
      @include desktop-up {
        font-size: ppx(30);
      }
    }

    &__submit-button {
      display: flex;
      width: spx(330);
      height: spx(73);
      padding: 0 spx(40) 0 spx(23);
      justify-content: center;
      align-items: center;
      border-radius: spx(50);
      background: var(--base_2, #fcf2c9);
      position: relative;
      transition: background-color 0.3s ease;
      margin-inline: auto;
      margin-top: spx(65);
      @include tablet-up {
        width: ppx(420) * 1.2;
        height: ppx(90) * 1.2;
        padding: 0 ppx(60) * 1.2;
        gap: ppx(10) * 1.2;
        border-radius: ppx(50) * 1.2;
        margin-top: ppx(80 * 1.2);
      }
      @include desktop-up {
        width: ppx(420);
        height: ppx(90);
        padding: 0 ppx(60);
        gap: ppx(10);
        border-radius: ppx(50);
        margin-top: ppx(80);
      }

      &--enabled {
        background: var(--logo_color_3, #c99e2d);
      }
    }

    &__submit-content {
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__submit-text {
      color: var(--logo_color_2, #816259);
      text-align: center;
      font-family: "Zen Kaku Gothic Antique";
      font-size: spx(28);
      font-style: normal;
      font-weight: 700;
      line-height: normal;
      transition: color 0.3s ease;
      @include tablet-up {
        font-size: ppx(33) * 1.2;
      }
      @include desktop-up {
        font-size: ppx(33);
      }

      .inquiry__submit-button--enabled & {
        color: white;
      }
    }

    &__submit-icon {
      display: block;
      width: spx(45.333);
      height: spx(45.333);
      flex-shrink: 0;
      position: absolute;
      top: 50%;
      right: spx(10);
      transform: translateY(-50%);
      @include tablet-up {
        width: ppx(56) * 1.2;
        height: ppx(56) * 1.2;
      }

      @include desktop-up {
        width: ppx(56);
        height: ppx(56);
      }
    }
  }
</style>
